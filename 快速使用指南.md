# iZsh 快速使用指南

## 🚀 三种使用方式

### 方式 1️⃣: 自动演示（推荐首次使用）

运行自动演示脚本，查看 AI 功能效果：

```bash
cd ~/Documents/ClaudeCode/zsh/zsh
./demo_ai.sh
```

演示会自动测试：
- ✅ AI 自我介绍
- ✅ 回答技术问题
- ✅ 提供命令帮助

---

### 方式 2️⃣: 快速启动（交互式使用）

使用快速启动脚本：

```bash
cd ~/Documents/ClaudeCode/zsh/zsh
./start_izsh.sh
```

启动后执行：
```bash
# 1. 加载 AI 模块
zmodload zsh/ai

# 2. 开始提问
ai "如何查找大文件？"
ai "What is Git?"
ai "帮我写一个 Python 排序函数"
```

---

### 方式 3️⃣: 手动启动（完整控制）

#### 步骤 1: 启动 iZsh
```bash
~/.local/bin/izsh
```

#### 步骤 2: 加载 AI 模块
```bash
zmodload zsh/ai
```

#### 步骤 3: 使用 AI 命令
```bash
ai "你的问题"
```

---

## 💡 示例对话

### 示例 1: 命令帮助
```bash
ai "如何递归删除目录？"
```

预期回复：
```
使用 rm -rf 命令可以递归删除目录...
```

### 示例 2: 技术解释
```bash
ai "What is Docker?"
```

预期回复：
```
Docker is a platform for developing, shipping, and running applications in containers...
```

### 示例 3: 代码生成
```bash
ai "写一个 Python 函数计算斐波那契数列"
```

预期回复：
```python
def fibonacci(n):
    if n <= 1:
        return n
    return fibonacci(n-1) + fibonacci(n-2)
```

---

## ⚙️ 配置说明

配置文件位置：`~/.izshrc`

关键配置项：
```bash
# API 配置
export IZSH_AI_API_URL="https://q.quuvv.cn/v1"
export IZSH_AI_API_KEY="sk-RQxMGajqZMP6cqxZ4fI7D7fjWvMAm0ZfNUbJg4rzIeXa39SP"
export IZSH_AI_MODEL="claude-3-5-haiku-20241022"
export IZSH_AI_API_TYPE="anthropic"

# 功能开关
export IZSH_AI_ENABLED=1
export IZSH_AI_INTERVENTION_LEVEL="suggest"
```

---

## 🎯 AI 功能特色

### ✅ 已实现
- 🤖 与 Claude AI 实时对话
- 💬 支持中英文问答
- 📚 技术问题解答
- 💻 命令使用帮助
- 🔧 代码生成建议

### 🚧 规划中
- 自动命令纠错
- 智能命令建议
- 错误原因分析
- 历史记录学习

---

## 🔧 故障排查

### 问题 1: 找不到 izsh 命令
**解决方案**：
```bash
# 使用完整路径
~/.local/bin/izsh
```

### 问题 2: AI 模块加载失败
**检查**：
```bash
# 查看模块是否存在
ls -la ~/.local/lib/izsh/1.0.0-izsh/zsh/ai.so
```

### 问题 3: API 调用失败
**检查配置**：
```bash
# 在 iZsh 中执行
echo $IZSH_AI_API_URL
echo $IZSH_AI_API_KEY
echo $IZSH_AI_MODEL
```

### 问题 4: 权限错误
**解决方案**：
```bash
# 确保脚本有执行权限
chmod +x demo_ai.sh start_izsh.sh
```

---

## 📂 项目文件结构

```
~/Documents/ClaudeCode/zsh/zsh/
├── demo_ai.sh                      # 自动演示脚本 ⭐
├── start_izsh.sh                   # 快速启动脚本 ⭐
├── 快速使用指南.md                 # 本文件 ⭐
├── ANTHROPIC_API_INTEGRATION.md    # 技术文档
├── Src/Modules/ai.c               # AI 模块源码
└── ~/.izshrc                      # 配置文件

~/.local/
├── bin/izsh                       # iZsh 可执行文件
└── lib/izsh/1.0.0-izsh/zsh/ai.so # AI 模块
```

---

## 🎓 更多资源

- 📖 **技术文档**: `ANTHROPIC_API_INTEGRATION.md`
- 🔧 **配置文件**: `~/.izshrc`
- 💻 **源代码**: `Src/Modules/ai.c`
- 🌐 **API 文档**: https://docs.anthropic.com

---

## 🎉 开始使用

**最简单的方法**：
```bash
cd ~/Documents/ClaudeCode/zsh/zsh
./demo_ai.sh
```

**交互式使用**：
```bash
./start_izsh.sh
# 然后执行：
zmodload zsh/ai
ai "Hello!"
```

祝您使用愉快！✨
