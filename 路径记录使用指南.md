# iZsh è·¯å¾„è®°å½•åŠŸèƒ½ - ä½¿ç”¨æŒ‡å—

## ðŸŽ¯ åŠŸèƒ½ä»‹ç»

è‡ªåŠ¨è®°å½•æ¯æ¬¡å…³é—­ iZsh çª—å£æ—¶çš„å·¥ä½œè·¯å¾„ï¼Œä¸‹æ¬¡å¯ä»¥å¿«é€Ÿå›žåˆ°ä¹‹å‰çš„å·¥ä½œç›®å½•ã€‚

### å…¸åž‹ä½¿ç”¨åœºæ™¯

**åœºæ™¯1ï¼šé¡¹ç›®é—´å¿«é€Ÿåˆ‡æ¢**
```bash
# åœ¨é¡¹ç›®Aå·¥ä½œ
$ cd ~/projects/projectA
$ vim main.py
$ exit  # å…³é—­çª—å£ï¼Œè‡ªåŠ¨è®°å½•è·¯å¾„

# é‡æ–°æ‰“å¼€çª—å£ï¼Œåœ¨é¡¹ç›®Bå·¥ä½œ
$ cd ~/projects/projectB
$ npm run dev

# éœ€è¦å›žåˆ°é¡¹ç›®A
$ æœ€è¿‘è·¯å¾„
âœ… å·²åˆ‡æ¢åˆ°ï¼š/Users/username/projects/projectA
```

**åœºæ™¯2ï¼šæŸ¥çœ‹æœ€è¿‘çš„å·¥ä½œè·¯å¾„**
```bash
$ æœ€è¿‘è·¯å¾„ list
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ðŸ“ æœ€è¿‘è®¿é—®çš„è·¯å¾„
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
[1] ~/projects/projectA â† å½“å‰ä½ç½®
[2] ~/projects/projectB
[3] ~/Documents/work
[4] /tmp

ä½¿ç”¨æ–¹å¼ï¼š
  æœ€è¿‘è·¯å¾„          # å›žåˆ°æœ€è¿‘çš„è·¯å¾„ï¼ˆç¬¬1ä¸ªï¼‰
  æœ€è¿‘è·¯å¾„ 2        # å›žåˆ°ç¬¬2ä¸ªæœ€è¿‘çš„è·¯å¾„
  recent-path      # åŒä¸Š
  recent-path list # æ˜¾ç¤ºæ­¤åˆ—è¡¨
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

## ðŸ“¦ å®‰è£…

### è‡ªåŠ¨å®‰è£…ï¼ˆæŽ¨èï¼‰

```bash
cd ~/Documents/ClaudeCode/zsh/zsh
./install_recent_paths.sh
source ~/.izshrc
```

### æ‰‹åŠ¨å®‰è£…

```bash
# 1. å¤åˆ¶è„šæœ¬
cp ~/Documents/ClaudeCode/zsh/zsh/recent_paths.sh ~/.izsh/
chmod +x ~/.izsh/recent_paths.sh

# 2. æ·»åŠ åˆ° ~/.izshrc
cat >> ~/.izshrc << 'EOF'

# iZsh è·¯å¾„è®°å½•åŠŸèƒ½
if [ -f "$HOME/.izsh/recent_paths.sh" ]; then
    source "$HOME/.izsh/recent_paths.sh"

    # æ³¨å†Œ zshexit hookï¼ˆé€€å‡ºæ—¶ä¿å­˜è·¯å¾„ï¼‰
    zshexit() {
        save_current_path
    }

    # å‘½ä»¤åˆ«å
    alias æœ€è¿‘è·¯å¾„='recent_path_command'
    alias recent-path='recent_path_command'
    alias rp='recent_path_command'
    alias rpl='recent_path_command list'
fi
EOF

# 3. é‡æ–°åŠ è½½é…ç½®
source ~/.izshrc
```

## ðŸš€ ä½¿ç”¨æ–¹å¼

### åŸºæœ¬å‘½ä»¤

| å‘½ä»¤ | åŠŸèƒ½ | ç¤ºä¾‹ |
|------|------|------|
| `æœ€è¿‘è·¯å¾„` | å›žåˆ°æœ€è¿‘çš„è·¯å¾„ï¼ˆç¬¬1ä¸ªï¼‰ | `æœ€è¿‘è·¯å¾„` |
| `æœ€è¿‘è·¯å¾„ N` | å›žåˆ°ç¬¬Nä¸ªæœ€è¿‘çš„è·¯å¾„ | `æœ€è¿‘è·¯å¾„ 2` |
| `æœ€è¿‘è·¯å¾„ list` | æ˜¾ç¤ºæ‰€æœ‰æœ€è¿‘è·¯å¾„ | `æœ€è¿‘è·¯å¾„ list` |
| `recent-path` | è‹±æ–‡ç‰ˆå‘½ä»¤ | `recent-path` |
| `rp` | ç®€å†™ | `rp` |
| `rpl` | åˆ—è¡¨ç®€å†™ | `rpl` |

### å‘½ä»¤ç¤ºä¾‹

```bash
# å›žåˆ°æœ€è¿‘è®¿é—®çš„è·¯å¾„
$ æœ€è¿‘è·¯å¾„
âœ… å·²åˆ‡æ¢åˆ°ï¼š/Users/username/projects/myapp

# å›žåˆ°ç¬¬2ä¸ªæœ€è¿‘çš„è·¯å¾„
$ æœ€è¿‘è·¯å¾„ 2
âœ… å·²åˆ‡æ¢åˆ°ï¼š/Users/username/Documents

# æŸ¥çœ‹æ‰€æœ‰æœ€è¿‘è·¯å¾„
$ æœ€è¿‘è·¯å¾„ list
# æˆ–
$ rpl

# ä½¿ç”¨è‹±æ–‡å‘½ä»¤
$ recent-path
$ rp
$ rp list

# æŸ¥çœ‹å¸®åŠ©
$ recent-path help
```

## âš™ï¸ å·¥ä½œåŽŸç†

### è‡ªåŠ¨è®°å½•

1. **é€€å‡ºè§¦å‘**ï¼šæ¯æ¬¡å…³é—­ iZsh çª—å£æ—¶ï¼Œ`zshexit` hook è‡ªåŠ¨è§¦å‘
2. **ä¿å­˜è·¯å¾„**ï¼šå½“å‰å·¥ä½œç›®å½•ä¿å­˜åˆ° `~/.izsh/recent_paths`
3. **è‡ªåŠ¨åŽ»é‡**ï¼šå¦‚æžœè·¯å¾„å·²å­˜åœ¨ï¼Œä¼šç§»åˆ°åˆ—è¡¨æœ€å‰é¢
4. **è·³è¿‡HOME**ï¼šè‡ªåŠ¨è·³è¿‡HOMEç›®å½•ï¼Œé¿å…æ— æ„ä¹‰è®°å½•

### å­˜å‚¨æ ¼å¼

æ–‡ä»¶ï¼š`~/.izsh/recent_paths`

```
/Users/username/projects/projectA
/Users/username/projects/projectB
/Users/username/Documents/work
/tmp
```

æ¯è¡Œä¸€ä¸ªè·¯å¾„ï¼Œæœ€è¿‘çš„åœ¨æœ€å‰é¢ï¼Œæœ€å¤šä¿å­˜10ä¸ªã€‚

## ðŸŽ¨ åŠŸèƒ½ç‰¹ç‚¹

### âœ… æ™ºèƒ½ç‰¹æ€§

- **è‡ªåŠ¨åŽ»é‡**ï¼šåŒä¸€è·¯å¾„åªä¿ç•™æœ€æ–°çš„ä¸€æ¬¡
- **è·³è¿‡HOME**ï¼šä¸è®°å½•HOMEç›®å½•ï¼Œé¿å…å™ªéŸ³
- **è·¯å¾„éªŒè¯**ï¼šåˆ‡æ¢å‰æ£€æŸ¥ç›®å½•æ˜¯å¦å­˜åœ¨
- **ç›¸å¯¹æ˜¾ç¤º**ï¼šHOMEä¸‹çš„è·¯å¾„æ˜¾ç¤ºä¸º `~/` å¼€å¤´

### âœ… ç”¨æˆ·ä½“éªŒ

- **å½©è‰²è¾“å‡º**ï¼šä½¿ç”¨é¢œè‰²åŒºåˆ†ä¸åŒä¿¡æ¯
- **å½“å‰æ ‡è®°**ï¼šåˆ—è¡¨ä¸­æ ‡è®°å½“å‰æ‰€åœ¨ä½ç½®
- **ç›®å½•é¢„è§ˆ**ï¼šåˆ‡æ¢åŽè‡ªåŠ¨æ˜¾ç¤ºç›®å½•å†…å®¹
- **åŒè¯­æ”¯æŒ**ï¼šåŒæ—¶æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡å‘½ä»¤

### âœ… å®‰å…¨æ€§

- **åªè¯»æ“ä½œ**ï¼šåˆ‡æ¢è·¯å¾„ä¸ä¼šä¿®æ”¹æ–‡ä»¶
- **å¤±è´¥æç¤º**ï¼šæ“ä½œå¤±è´¥æ—¶ç»™å‡ºæ¸…æ™°æç¤º
- **è®°å½•æ–‡ä»¶**ï¼šçº¯æ–‡æœ¬æ ¼å¼ï¼Œå¯æ‰‹åŠ¨ç¼–è¾‘

## ðŸ”§ é«˜çº§ç”¨æ³•

### æ¸…ç†æ— æ•ˆè·¯å¾„

```bash
$ recent-path clean
âœ… å·²æ¸…ç†æ— æ•ˆè·¯å¾„ï¼Œä¿ç•™ 5 æ¡è®°å½•
```

### æ‰‹åŠ¨ä¿å­˜å½“å‰è·¯å¾„

```bash
$ ~/.izsh/recent_paths.sh save
```

### ç›´æŽ¥ç¼–è¾‘è®°å½•æ–‡ä»¶

```bash
$ vim ~/.izsh/recent_paths
```

### é…ç½®æœ€å¤§ä¿å­˜æ•°é‡

ç¼–è¾‘ `~/.izsh/recent_paths.sh`ï¼š

```bash
MAX_PATHS=20  # æ”¹ä¸ºä¿å­˜20ä¸ªè·¯å¾„
```

## ðŸ“– å¸¸è§é—®é¢˜

### Q1: è·¯å¾„æ²¡æœ‰è¢«è®°å½•æ€Žä¹ˆåŠžï¼Ÿ

**æ£€æŸ¥æ­¥éª¤ï¼š**
```bash
# 1. æ£€æŸ¥é…ç½®æ˜¯å¦åŠ è½½
grep -A5 "iZsh è·¯å¾„è®°å½•åŠŸèƒ½" ~/.izshrc

# 2. æ£€æŸ¥è„šæœ¬æ˜¯å¦å­˜åœ¨
ls -la ~/.izsh/recent_paths.sh

# 3. æ£€æŸ¥è®°å½•æ–‡ä»¶
cat ~/.izsh/recent_paths

# 4. æ‰‹åŠ¨æµ‹è¯•ä¿å­˜
cd ~/Documents
~/.izsh/recent_paths.sh save
cat ~/.izsh/recent_paths
```

### Q2: å‘½ä»¤æ‰¾ä¸åˆ°æ€Žä¹ˆåŠžï¼Ÿ

**è§£å†³æ–¹æ³•ï¼š**
```bash
# é‡æ–°åŠ è½½é…ç½®
source ~/.izshrc

# æ£€æŸ¥åˆ«å
alias | grep "æœ€è¿‘è·¯å¾„"
alias | grep "recent-path"

# å¦‚æžœæ²¡æœ‰åˆ«åï¼Œæ‰‹åŠ¨æ·»åŠ 
alias æœ€è¿‘è·¯å¾„='recent_path_command'
```

### Q3: åˆ‡æ¢è·¯å¾„å¤±è´¥æ€Žä¹ˆåŠžï¼Ÿ

**å¯èƒ½åŽŸå› ï¼š**
1. ç›®å½•å·²è¢«åˆ é™¤æˆ–ç§»åŠ¨
2. æ²¡æœ‰è®¿é—®æƒé™
3. è®°å½•æ–‡ä»¶æŸå

**è§£å†³æ–¹æ³•ï¼š**
```bash
# æŸ¥çœ‹åˆ—è¡¨ï¼Œç¡®è®¤è·¯å¾„æ˜¯å¦å­˜åœ¨
rpl

# æ¸…ç†æ— æ•ˆè·¯å¾„
recent-path clean

# å¦‚æžœé—®é¢˜æŒç»­ï¼Œé‡ç½®è®°å½•
rm ~/.izsh/recent_paths
```

### Q4: å¦‚ä½•ç¦ç”¨æ­¤åŠŸèƒ½ï¼Ÿ

**ä¸´æ—¶ç¦ç”¨ï¼š**
```bash
# å–æ¶ˆåˆ«å
unalias æœ€è¿‘è·¯å¾„
unalias recent-path
unalias rp
```

**æ°¸ä¹…ç¦ç”¨ï¼š**
```bash
# æ³¨é‡Š ~/.izshrc ä¸­çš„ç›¸å…³é…ç½®
# åœ¨ä»¥ä¸‹è¡Œå‰åŠ  #
# if [ -f "$HOME/.izsh/recent_paths.sh" ]; then
#     ...
# fi
```

## ðŸ’¡ ä½¿ç”¨æŠ€å·§

### æŠ€å·§1ï¼šé…åˆé¡¹ç›®ç®¡ç†ä½¿ç”¨

```bash
# åœ¨ ~/.zshrc ä¸­æ·»åŠ é¡¹ç›®ç›®å½•
alias projects='cd ~/projects'

# å·¥ä½œæµç¨‹
$ projects  # è¿›å…¥é¡¹ç›®ç›®å½•
$ cd projectA
$ vim
$ exit  # è‡ªåŠ¨è®°å½• ~/projects/projectA

# ä¸‹æ¬¡
$ æœ€è¿‘è·¯å¾„  # å¿«é€Ÿå›žåˆ° projectA
```

### æŠ€å·§2ï¼šç»“åˆ fzf æ¨¡ç³Šæœç´¢

```bash
# å¦‚æžœå®‰è£…äº† fzf
alias rp-fzf='cat ~/.izsh/recent_paths | fzf | xargs -I {} cd {}'
```

### æŠ€å·§3ï¼šåˆ›å»ºæ›´çŸ­çš„åˆ«å

```bash
# åœ¨ ~/.zshrc ä¸­æ·»åŠ 
alias r='recent-path'
alias rl='recent-path list'

# ä½¿ç”¨
$ r    # å›žåˆ°æœ€è¿‘è·¯å¾„
$ rl   # æŸ¥çœ‹åˆ—è¡¨
```

### æŠ€å·§4ï¼šå¿«é€Ÿåœ¨ä¸¤ä¸ªç›®å½•é—´åˆ‡æ¢

```bash
# åœ¨ç›®å½•A
$ cd ~/projectA

# åˆ‡æ¢åˆ°ç›®å½•B
$ cd ~/projectB

# å¿«é€Ÿå›žåˆ°A
$ æœ€è¿‘è·¯å¾„ 2

# å†å›žåˆ°B
$ æœ€è¿‘è·¯å¾„ 2
```

## ðŸ”„ å·¥ä½œæµç¤ºä¾‹

### å¼€å‘å·¥ä½œæµ

```bash
# 1. å¼€å§‹å·¥ä½œ
$ cd ~/projects/webapp
$ code .
$ npm run dev

# 2. ä¸´æ—¶å¤„ç†å…¶ä»–äº‹æƒ…
$ cd /tmp
$ wget https://example.com/file.zip
$ unzip file.zip

# 3. å¿«é€Ÿå›žåˆ°é¡¹ç›®
$ æœ€è¿‘è·¯å¾„ 2  # å›žåˆ° ~/projects/webapp
```

### ç³»ç»Ÿç®¡ç†å·¥ä½œæµ

```bash
# 1. æŸ¥çœ‹æ—¥å¿—
$ cd /var/log
$ tail -f syslog

# 2. ä¿®æ”¹é…ç½®
$ cd /etc/nginx
$ sudo vim nginx.conf

# 3. é‡å¯æœåŠ¡
$ cd ~

# 4. å›žåˆ°æ—¥å¿—ç›®å½•æŸ¥çœ‹
$ æœ€è¿‘è·¯å¾„ 2  # å›žåˆ° /var/log
```

## ðŸ“Š æ–‡ä»¶ç»“æž„

```
~/.izsh/
â”œâ”€â”€ recent_paths.sh      # ä¸»è„šæœ¬
â””â”€â”€ recent_paths         # è®°å½•æ–‡ä»¶

~/Documents/ClaudeCode/zsh/zsh/
â”œâ”€â”€ recent_paths.sh           # æºè„šæœ¬
â”œâ”€â”€ install_recent_paths.sh   # å®‰è£…è„šæœ¬
â””â”€â”€ è·¯å¾„è®°å½•ä½¿ç”¨æŒ‡å—.md       # æœ¬æ–‡æ¡£
```

## ðŸ†˜ èŽ·å–å¸®åŠ©

```bash
# æŸ¥çœ‹å†…ç½®å¸®åŠ©
recent-path help

# æŸ¥çœ‹åˆ—è¡¨
rpl

# æ‰‹åŠ¨æµ‹è¯•
~/.izsh/recent_paths.sh list
```

---

**å¼€å§‹ä½¿ç”¨è·¯å¾„è®°å½•åŠŸèƒ½ï¼Œæå‡å·¥ä½œæ•ˆçŽ‡ï¼** ðŸš€
