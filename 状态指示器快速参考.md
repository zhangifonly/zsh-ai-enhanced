# 状态指示器 - 快速参考卡

## 🎯 一眼识别当前状态

### 🟢 正常工作（6种）
| 图标 | 状态 | 含义 |
|------|------|------|
| 🤔 | 思考中 | Claude 正在分析规划 |
| 📖 | 读取文件 | 正在读取代码文件 |
| ✏️ | 编写代码 | 正在创建/修改代码 |
| ⚙️ | 执行命令 | 正在运行 bash/git 等 |
| 🔍 | 搜索分析 | 正在搜索查找内容 |
| 🟢 | 监控中 | 空闲状态，等待操作 |

### 🔵 等待状态（4种）
| 图标 | 状态 | 含义 | 您需要 |
|------|------|------|---------|
| 🔵 | 等待任务 | 等您输入新任务 | 输入新指令 |
| 🟡 | 等待确认 | 检测到确认提示 | 等待或手动输入 |
| 🟠 | 等待选择 | 检测到菜单选项 | 等待或手动选择 |
| ⏱️ | 倒计时 Ns | N秒后AI自动响应 | 随时可手动干预 |

### 🧠 AI工作（3种）
| 图标 | 状态 | 含义 |
|------|------|------|
| 🧠 | AI分析中 | AI 正在分析选项 |
| 🎯 | AI执行中 | AI 正在发送选择 |
| ✅ | AI已选择 | AI 刚完成选择 |

### ⚠️ 特殊状态（5种）
| 图标 | 状态 | 含义 |
|------|------|------|
| ⚠️ | 需要注意 | 检测到警告信息 |
| ❌ | 错误发生 | 检测到错误 |
| ⏸️ | 用户暂停 | 您按了 Ctrl+Z |
| 🛑 | 用户中断 | 您按了 Ctrl+C |
| 🔧 | 调试模式 | 调试输出已启用 |

### 🎉 完成状态（3种）
| 图标 | 状态 | 含义 |
|------|------|------|
| ✨ | 任务完成 | 当前任务已完成 |
| 🎉 | 全部完成 | 所有任务完成 |
| 👋 | 已退出 | Claude Code 已退出 |

### 🚀 启动状态（2种）
| 图标 | 状态 | 含义 |
|------|------|------|
| 🚀 | 启动中 | 程序刚启动 |
| 🔄 | 初始化 | 加载配置中 |

---

## ⚡ 常见状态流转

### 正常工作流
```
🟢 监控中 → 🔵 等待任务 → [输入] →
🤔 思考中 → 📖 读取文件 → ✏️ 编写代码 →
⚙️ 执行命令 → ✨ 任务完成 → 🔵 等待任务
```

### AI 自动确认流程
```
🟡 等待确认 →
🧠 AI分析中 (0.5s) →
⏱️  倒计时 3s → 2s → 1s →
🎯 AI执行中 →
✅ AI已选择 (1s) →
🟢 监控中
```

### 菜单选择流程
```
🟠 等待选择 →
🧠 AI分析中 →
⏱️  倒计时 3s → 2s → 1s →
🎯 AI执行中 →
✅ AI已选择 →
🟢 监控中
```

---

## 🆘 问题诊断

### 长时间卡在某状态
| 状态 | 可能原因 | 处理方法 |
|------|----------|----------|
| 🤔 思考中 | 复杂分析中 | 耐心等待 |
| 🔵 等待任务 | 任务已完成 | 输入新任务 |
| ⏱️ 倒计时 | 检测异常 | 手动输入 |
| 🟢 监控中 | 正常空闲 | 观察输出 |
| ❌ 错误发生 | 遇到错误 | 检查错误信息 |

### 状态频繁切换
- **正常现象**：Claude 在快速工作
- **观察指标**：🤔→📖→✏️→⚙️ 快速切换是正常的

### 状态静止不动
- **🔵 等待任务**：正常，等您输入
- **其他状态**：可能卡住，检查终端输出

---

## 💡 快速操作指南

### 看到 🔵 等待任务
```bash
# 输入新任务
> 请创建一个 README 文件
```

### 看到 ⏱️ 倒计时 3s
```bash
# 可以随时手动输入（优先级更高）
按 Y 然后回车  # 立即响应，停止倒计时
等待倒计时结束 # AI 自动选择
```

### 看到 ❌ 错误发生
```bash
# 查看错误详情
向上滚动查看具体错误信息
根据错误提示修正
```

### 看到 🟡 等待确认
```bash
# 等待 AI 处理（推荐）
等待 3 秒，AI 自动选择

# 或手动响应
按 Y/n/1/2 等选项
```

---

## 🎨 右上角位置

状态指示器始终显示在**终端右上角**：

```
┌────────────────────────── 🤔 思考中 ─┐
│                                      │
│ [正常的 Claude Code 输出]            │
│                                      │
└──────────────────────────────────────┘
```

不会干扰正常内容，一眼就能看到当前状态。

---

## 📱 移动/缩放终端

- 状态指示器**自动适应**终端大小
- 调整窗口大小后自动重新定位
- 始终保持在右上角

---

**版本**: 3.0.0 完整版
**状态总数**: 25个
**更新频率**: 实时
**使用**: 无需配置，自动显示

---

**快速启动**：
```bash
[iZsh] ~% source ~/.izshrc
[iZsh] ~% claude
```

**观察右上角，享受完整的状态可视化！** ✨
