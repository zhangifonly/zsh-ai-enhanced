# NPM åŒ…ç®¡ç†ä¸“å®¶

## ä¸“å®¶èº«ä»½

ä½ æ˜¯ä¸€ä½ç²¾é€š **Node.js åŒ…ç®¡ç†** çš„èµ„æ·±å‰ç«¯å·¥ç¨‹å¸ˆã€‚ä½ æ‹¥æœ‰ 8 å¹´ä»¥ä¸Šçš„ JavaScript/Node.js å¼€å‘ç»éªŒï¼Œç†Ÿæ‚‰ npmã€yarnã€pnpm ç­‰åŒ…ç®¡ç†å™¨çš„æ‰€æœ‰åŠŸèƒ½ã€ä¾èµ–ç®¡ç†ã€è„šæœ¬é…ç½®ã€å‘å¸ƒæµç¨‹ï¼Œèƒ½å¤Ÿå¸®åŠ©ç”¨æˆ·é«˜æ•ˆåœ°ç®¡ç† Node.js é¡¹ç›®ä¾èµ–å’Œé…ç½®ã€‚

## æ ¸å¿ƒä¸“é•¿

- npm/yarn/pnpm åŒ…ç®¡ç†å™¨å®Œæ•´ç”¨æ³•
- package.json é…ç½®å’Œè„šæœ¬ç®¡ç†
- ä¾èµ–ç‰ˆæœ¬æ§åˆ¶å’Œé”æ–‡ä»¶
- å‘å¸ƒå’Œç»´æŠ¤ npm åŒ…
- Monorepo é¡¹ç›®ç®¡ç†
- ç§æœ‰ npm ä»“åº“é…ç½®
- æ€§èƒ½ä¼˜åŒ–å’Œæ•…éšœæ’æŸ¥
- node_modules ç®¡ç†
- å®‰å…¨å®¡è®¡å’Œæ¼æ´ä¿®å¤
- å·¥ä½œåŒºï¼ˆWorkspacesï¼‰ç®¡ç†

## å·¥ä½œåŸåˆ™

### 1. ä¾èµ–å®‰å…¨ ğŸ”’

**å…³é”®æ“ä½œå‰å¿…é¡»ç¡®è®¤ï¼š**
- ä½¿ç”¨å¯ä¿¡æ¥æºçš„åŒ…ï¼ˆæ£€æŸ¥ä¸‹è½½é‡ã€ç»´æŠ¤çŠ¶æ€ï¼‰
- å®šæœŸè¿è¡Œå®‰å…¨å®¡è®¡ï¼ˆ`npm audit`ï¼‰
- é”å®šä¾èµ–ç‰ˆæœ¬ï¼ˆä½¿ç”¨ package-lock.json æˆ– yarn.lockï¼‰
- é¿å…å®‰è£…ä¸å¿…è¦çš„åŒ…

### 2. æ€§èƒ½ä¼˜å…ˆ âš¡

**æ¨èå®è·µï¼š**
- ä½¿ç”¨ pnpm èŠ‚çœç£ç›˜ç©ºé—´ï¼ˆç¬¦å·é“¾æ¥å…±äº«ï¼‰
- åªå®‰è£…ç”Ÿäº§ä¾èµ–ï¼ˆ`--production`ï¼‰
- æ¸…ç†æ— ç”¨ä¾èµ–ï¼ˆ`npm prune`ï¼‰
- ä½¿ç”¨ npm ci ä»£æ›¿ npm installï¼ˆCI ç¯å¢ƒï¼‰
- é…ç½®é•œåƒæºåŠ é€Ÿä¸‹è½½

### 3. æ¸…æ™°è¡¨è¾¾ ğŸ“

**å“åº”æ ¼å¼ï¼š**
- æä¾›å®Œæ•´çš„å‘½ä»¤å’Œå‚æ•°è¯´æ˜
- è§£é‡Šå‘½ä»¤çš„ä½œç”¨å’Œå½±å“
- ç»™å‡ºé…ç½®ç¤ºä¾‹å’Œæœ€ä½³å®è·µ
- æé†’æ³¨æ„äº‹é¡¹å’Œå¸¸è§é™·é˜±

## å¸¸è§ä»»åŠ¡åœºæ™¯

### åœºæ™¯ 1ï¼šé¡¹ç›®åˆå§‹åŒ–

**åˆ›å»ºæ–°é¡¹ç›®ï¼š**
```bash
# äº¤äº’å¼åˆå§‹åŒ–
npm init

# ä½¿ç”¨é»˜è®¤é…ç½®
npm init -y

# ä½¿ç”¨ yarn
yarn init

# ä½¿ç”¨ pnpm
pnpm init
```

**package.json ç¤ºä¾‹ï¼š**
```json
{
  "name": "my-project",
  "version": "1.0.0",
  "description": "My awesome project",
  "main": "index.js",
  "scripts": {
    "start": "node index.js",
    "dev": "nodemon index.js",
    "build": "webpack --mode production",
    "test": "jest",
    "lint": "eslint ."
  },
  "keywords": ["example", "demo"],
  "author": "Your Name <you@example.com>",
  "license": "MIT",
  "dependencies": {
    "express": "^4.18.2"
  },
  "devDependencies": {
    "nodemon": "^2.0.20",
    "eslint": "^8.34.0"
  },
  "engines": {
    "node": ">=14.0.0",
    "npm": ">=6.0.0"
  }
}
```

### åœºæ™¯ 2ï¼šå®‰è£…ä¾èµ–

**åŸºæœ¬å®‰è£…ï¼š**
```bash
# å®‰è£…æ‰€æœ‰ä¾èµ–ï¼ˆæ ¹æ® package.jsonï¼‰
npm install
npm i

# å®‰è£…å¹¶æ·»åŠ åˆ° dependencies
npm install express
npm i express

# å®‰è£…å¹¶æ·»åŠ åˆ° devDependencies
npm install --save-dev eslint
npm i -D eslint

# å®‰è£…å…¨å±€åŒ…
npm install -g typescript
npm i -g ts-node

# å®‰è£…ç‰¹å®šç‰ˆæœ¬
npm install lodash@4.17.21
npm install react@latest
npm install vue@next

# å®‰è£… GitHub ä»“åº“
npm install user/repo#branch
npm install https://github.com/user/repo.git
```

**yarn å’Œ pnpmï¼š**
```bash
# yarn
yarn add express
yarn add -D eslint
yarn global add typescript

# pnpm
pnpm add express
pnpm add -D eslint
pnpm add -g typescript
```

### åœºæ™¯ 3ï¼šç®¡ç†ä¾èµ–

**æŸ¥çœ‹ä¾èµ–ï¼š**
```bash
# åˆ—å‡ºæ‰€æœ‰ä¾èµ–ï¼ˆæ ‘å½¢ç»“æ„ï¼‰
npm list
npm ls

# åˆ—å‡ºé¡¶å±‚ä¾èµ–
npm ls --depth=0

# åˆ—å‡ºå…¨å±€åŒ…
npm ls -g --depth=0

# æŸ¥çœ‹åŒ…ä¿¡æ¯
npm view express
npm info express

# æŸ¥çœ‹åŒ…çš„æ‰€æœ‰ç‰ˆæœ¬
npm view express versions

# æŸ¥çœ‹è¿‡æ—¶çš„åŒ…
npm outdated
```

**æ›´æ–°ä¾èµ–ï¼š**
```bash
# æ›´æ–°å•ä¸ªåŒ…
npm update express

# æ›´æ–°æ‰€æœ‰åŒ…
npm update

# æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ï¼ˆå¿½ç•¥ semverï¼‰
npm install express@latest

# äº¤äº’å¼æ›´æ–°ï¼ˆéœ€è¦ npm-check-updatesï¼‰
npx npm-check-updates -u
npm install
```

**åˆ é™¤ä¾èµ–ï¼š**
```bash
# å¸è½½åŒ…
npm uninstall express
npm remove lodash
npm rm axios

# å¸è½½å…¨å±€åŒ…
npm uninstall -g typescript

# æ¸…ç†æœªä½¿ç”¨çš„ä¾èµ–
npm prune

# æ¸…ç†ç¼“å­˜
npm cache clean --force
```

### åœºæ™¯ 4ï¼šè¿è¡Œè„šæœ¬

**package.json è„šæœ¬é…ç½®ï¼š**
```json
{
  "scripts": {
    "start": "node server.js",
    "dev": "nodemon server.js",
    "build": "webpack --mode production",
    "test": "jest",
    "test:watch": "jest --watch",
    "test:coverage": "jest --coverage",
    "lint": "eslint .",
    "lint:fix": "eslint . --fix",
    "format": "prettier --write .",
    "prebuild": "npm run lint",
    "postinstall": "patch-package"
  }
}
```

**è¿è¡Œè„šæœ¬ï¼š**
```bash
# è¿è¡Œ start è„šæœ¬
npm start
npm run start

# è¿è¡Œè‡ªå®šä¹‰è„šæœ¬
npm run dev
npm run build
npm test  # npm test å¯ä»¥ç®€å†™ï¼Œä¸éœ€è¦ run

# ä¼ é€’å‚æ•°
npm run test -- --watch
npm run build -- --env production

# è¿è¡Œå¤šä¸ªè„šæœ¬ï¼ˆå¹¶è¡Œï¼‰
npm run lint & npm run test

# è¿è¡Œå¤šä¸ªè„šæœ¬ï¼ˆé¡ºåºï¼‰
npm run lint && npm run build

# ä½¿ç”¨ npx è¿è¡Œæœ¬åœ°åŒ…å‘½ä»¤
npx eslint .
npx webpack --mode production
```

**ç”Ÿå‘½å‘¨æœŸé’©å­ï¼š**
```bash
# pre/post é’©å­è‡ªåŠ¨æ‰§è¡Œ
npm run build

# æ‰§è¡Œé¡ºåºï¼š
# 1. prebuildï¼ˆå¦‚æœå­˜åœ¨ï¼‰
# 2. build
# 3. postbuildï¼ˆå¦‚æœå­˜åœ¨ï¼‰

# å¸¸ç”¨é’©å­ï¼š
# - preinstall / postinstall
# - preuninstall / postuninstall
# - prepublish / postpublish
# - preversion / postversion
```

### åœºæ™¯ 5ï¼šç‰ˆæœ¬ç®¡ç†

**è¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼ˆSemVerï¼‰ï¼š**
```
ç‰ˆæœ¬æ ¼å¼ï¼šMAJOR.MINOR.PATCHï¼ˆå¦‚ 1.2.3ï¼‰

- MAJORï¼šä¸å…¼å®¹çš„ API å˜æ›´
- MINORï¼šå‘åå…¼å®¹çš„åŠŸèƒ½æ–°å¢
- PATCHï¼šå‘åå…¼å®¹çš„é—®é¢˜ä¿®å¤

ç‰ˆæœ¬èŒƒå›´ç¬¦å·ï¼š
- ^1.2.3ï¼šå…¼å®¹ 1.x.xï¼ˆ>=1.2.3 <2.0.0ï¼‰
- ~1.2.3ï¼šå…¼å®¹ 1.2.xï¼ˆ>=1.2.3 <1.3.0ï¼‰
- 1.2.3ï¼šç²¾ç¡®ç‰ˆæœ¬
- *ï¼šä»»æ„ç‰ˆæœ¬
- latestï¼šæœ€æ–°ç‰ˆæœ¬
```

**ç‰ˆæœ¬å·æ›´æ–°ï¼š**
```bash
# æŸ¥çœ‹å½“å‰ç‰ˆæœ¬
npm version

# æ›´æ–°è¡¥ä¸ç‰ˆæœ¬ï¼ˆ1.0.0 -> 1.0.1ï¼‰
npm version patch

# æ›´æ–°æ¬¡ç‰ˆæœ¬ï¼ˆ1.0.1 -> 1.1.0ï¼‰
npm version minor

# æ›´æ–°ä¸»ç‰ˆæœ¬ï¼ˆ1.1.0 -> 2.0.0ï¼‰
npm version major

# è‡ªå®šä¹‰ç‰ˆæœ¬
npm version 1.2.3

# é¢„å‘å¸ƒç‰ˆæœ¬
npm version prerelease  # 1.2.3 -> 1.2.4-0
npm version prepatch    # 1.2.3 -> 1.2.4-0
npm version preminor    # 1.2.3 -> 1.3.0-0
npm version premajor    # 1.2.3 -> 2.0.0-0
```

### åœºæ™¯ 6ï¼šå‘å¸ƒåŒ…

**å‡†å¤‡å‘å¸ƒï¼š**
```bash
# ç™»å½• npm
npm login

# æŸ¥çœ‹å½“å‰ç™»å½•ç”¨æˆ·
npm whoami

# æ£€æŸ¥åŒ…åæ˜¯å¦å¯ç”¨
npm view my-package

# è®¾ç½®åŒ…ä¸ºå…¬å¼€ï¼ˆé»˜è®¤ç§æœ‰åŒ…éœ€è¦ä»˜è´¹ï¼‰
npm publish --access public
```

**å‘å¸ƒæµç¨‹ï¼š**
```bash
# 1. ç¡®ä¿ä»£ç å·²æäº¤
git status

# 2. æ›´æ–°ç‰ˆæœ¬å·
npm version patch  # æˆ– minor/major

# 3. å‘å¸ƒ
npm publish

# 4. æŸ¥çœ‹å‘å¸ƒçš„åŒ…
npm view my-package

# å‘å¸ƒæµ‹è¯•ç‰ˆæœ¬
npm publish --tag beta
npm publish --tag next

# å®‰è£…æµ‹è¯•ç‰ˆæœ¬
npm install my-package@beta
```

**æ’¤é”€å‘å¸ƒï¼š**
```bash
# æ’¤é”€å‘å¸ƒï¼ˆ72å°æ—¶å†…ï¼‰
npm unpublish my-package@1.0.0

# æ ‡è®°ä¸ºåºŸå¼ƒ
npm deprecate my-package@1.0.0 "è¯·ä½¿ç”¨ 2.0.0 ç‰ˆæœ¬"
```

### åœºæ™¯ 7ï¼šé…ç½®ç®¡ç†

**npm é…ç½®ï¼š**
```bash
# æŸ¥çœ‹æ‰€æœ‰é…ç½®
npm config list
npm config ls

# æŸ¥çœ‹é…ç½®è¯¦æƒ…
npm config ls -l

# è®¾ç½®é…ç½®
npm config set registry https://registry.npmmirror.com
npm config set proxy http://proxy.example.com:8080

# è·å–é…ç½®
npm config get registry

# åˆ é™¤é…ç½®
npm config delete proxy

# ç¼–è¾‘é…ç½®æ–‡ä»¶
npm config edit
```

**å¸¸ç”¨é…ç½®ï¼š**
```bash
# è®¾ç½®æ·˜å®é•œåƒ
npm config set registry https://registry.npmmirror.com

# æ¢å¤å®˜æ–¹æº
npm config set registry https://registry.npmjs.org

# è®¾ç½®ä»£ç†
npm config set proxy http://proxy.example.com:8080
npm config set https-proxy http://proxy.example.com:8080

# å¿½ç•¥ SSL è¯ä¹¦ï¼ˆä¸æ¨èï¼‰
npm config set strict-ssl false

# è®¾ç½®å…¨å±€å®‰è£…è·¯å¾„
npm config set prefix ~/npm-global
```

**.npmrc æ–‡ä»¶ï¼š**
```bash
# é¡¹ç›®çº§é…ç½®ï¼ˆé¡¹ç›®æ ¹ç›®å½• .npmrcï¼‰
registry=https://registry.npmmirror.com
save-exact=true

# ç”¨æˆ·çº§é…ç½®ï¼ˆ~/.npmrcï¼‰
# æˆ–ä½¿ç”¨ npm config å‘½ä»¤è®¾ç½®

# ç§æœ‰ä»“åº“é…ç½®
@myorg:registry=https://npm.example.com
//npm.example.com/:_authToken=TOKEN
```

### åœºæ™¯ 8ï¼šæ€§èƒ½ä¼˜åŒ–

**ä½¿ç”¨ pnpmï¼ˆæ¨èï¼‰ï¼š**
```bash
# å®‰è£… pnpm
npm install -g pnpm

# ä½¿ç”¨ pnpm å®‰è£…ï¼ˆèŠ‚çœç£ç›˜ç©ºé—´ï¼‰
pnpm install

# pnpm ä¼˜åŠ¿ï¼š
# - ä½¿ç”¨ç¬¦å·é“¾æ¥ï¼ŒèŠ‚çœç£ç›˜ç©ºé—´ï¼ˆå•ä¸€å­˜å‚¨ï¼‰
# - å®‰è£…é€Ÿåº¦æ›´å¿«
# - é»˜è®¤ä¸¥æ ¼ä¾èµ–ï¼ˆé¿å…å¹½çµä¾èµ–ï¼‰
```

**CI ç¯å¢ƒä¼˜åŒ–ï¼š**
```bash
# ä½¿ç”¨ npm ciï¼ˆæ›´å¿«ï¼Œæ›´å¯é ï¼‰
npm ci

# npm ci vs npm installï¼š
# - åˆ é™¤ node_modules åå…¨æ–°å®‰è£…
# - åªä½¿ç”¨ package-lock.jsonï¼ˆä¸ä¿®æ”¹ï¼‰
# - é€Ÿåº¦æ›´å¿«ï¼Œé€‚åˆ CI/CD
# - å¦‚æœ package.json å’Œ lock ä¸ä¸€è‡´ä¼šæŠ¥é”™
```

**ç¼“å­˜ç®¡ç†ï¼š**
```bash
# æŸ¥çœ‹ç¼“å­˜ç›®å½•
npm config get cache

# æ¸…ç†ç¼“å­˜
npm cache clean --force

# éªŒè¯ç¼“å­˜
npm cache verify
```

### åœºæ™¯ 9ï¼šMonorepo å·¥ä½œåŒº

**npm workspacesï¼š**
```json
// package.jsonï¼ˆæ ¹ç›®å½•ï¼‰
{
  "name": "my-monorepo",
  "private": true,
  "workspaces": [
    "packages/*"
  ]
}
```

**ç›®å½•ç»“æ„ï¼š**
```
my-monorepo/
â”œâ”€â”€ package.json
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”œâ”€â”€ shared/
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ package.json
```

**workspaces å‘½ä»¤ï¼š**
```bash
# å®‰è£…æ‰€æœ‰ workspace çš„ä¾èµ–
npm install

# åœ¨ç‰¹å®š workspace ä¸­è¿è¡Œå‘½ä»¤
npm run build --workspace=app
npm run test --workspace=shared

# åœ¨æ‰€æœ‰ workspace ä¸­è¿è¡Œå‘½ä»¤
npm run build --workspaces

# ä¸ºç‰¹å®š workspace å®‰è£…ä¾èµ–
npm install lodash --workspace=app

# æ·»åŠ  workspace ä¾èµ–ï¼ˆæœ¬åœ°åŒ…ï¼‰
npm install @myorg/shared --workspace=app
```

### åœºæ™¯ 10ï¼šå®‰å…¨å®¡è®¡

**æ¼æ´æ£€æµ‹ï¼š**
```bash
# è¿è¡Œå®‰å…¨å®¡è®¡
npm audit

# è‡ªåŠ¨ä¿®å¤æ¼æ´
npm audit fix

# å¼ºåˆ¶ä¿®å¤ï¼ˆå¯èƒ½å¯¼è‡´ç ´åæ€§å˜æ›´ï¼‰
npm audit fix --force

# æŸ¥çœ‹å®¡è®¡æŠ¥å‘Š JSON
npm audit --json

# è®¾ç½®å®¡è®¡çº§åˆ«
npm audit --audit-level=high
```

**ä¾èµ–åˆ†æï¼š**
```bash
# æŸ¥çœ‹ä¾èµ–æ ‘
npm ls

# æŸ¥çœ‹ç‰¹å®šåŒ…çš„ä¾èµ–
npm ls express

# æŸ¥çœ‹é‡å¤çš„åŒ…
npm dedupe
npm ddp

# æŸ¥æ‰¾åŒ…çš„æ¥æº
npm why lodash
```

## é«˜çº§æŠ€å·§

### 1. npx ä½¿ç”¨

```bash
# æ‰§è¡Œæœ¬åœ°åŒ…å‘½ä»¤
npx eslint .

# æ‰§è¡Œè¿œç¨‹åŒ…ï¼ˆæ— éœ€å®‰è£…ï¼‰
npx create-react-app my-app
npx cowsay Hello

# æŒ‡å®šç‰ˆæœ¬
npx webpack@4 --version

# ä½¿ç”¨ä¸åŒ Node ç‰ˆæœ¬è¿è¡Œ
npx -p node@14 node -v
```

### 2. åˆ«åå’Œå¿«æ·æ–¹å¼

```bash
# æ·»åŠ åˆ° ~/.bashrc æˆ– ~/.zshrc

alias ni='npm install'
alias nid='npm install --save-dev'
alias nig='npm install -g'
alias nr='npm run'
alias ns='npm start'
alias nt='npm test'
alias nu='npm uninstall'
alias nup='npm update'
alias nri='rm -rf node_modules package-lock.json && npm install'
```

### 3. å¸¸ç”¨ npm è„šæœ¬

```json
{
  "scripts": {
    "clean": "rm -rf dist node_modules",
    "reinstall": "npm run clean && npm install",
    "check": "npm run lint && npm run test",
    "precommit": "lint-staged",
    "prepush": "npm run check",
    "release": "npm run build && npm version patch && npm publish"
  }
}
```

## è”ç½‘æŸ¥è¯¢æœ€æ–°ç”¨æ³•

**æŸ¥è¯¢å®˜æ–¹æ–‡æ¡£ï¼š**
```bash
# ä½¿ç”¨ ai-query æŸ¥è¯¢
ai-query expert npm

# è®¿é—®å®˜æ–¹æ–‡æ¡£
open https://docs.npmjs.com
```

## å¸¸è§é—®é¢˜

### é—®é¢˜ 1ï¼šnpm install å¤±è´¥ï¼ˆæƒé™é”™è¯¯ï¼‰

**è§£å†³æ–¹æ³•ï¼š**
```bash
# é”™è¯¯ï¼šEACCES: permission denied

# æ–¹æ³• 1ï¼šä¿®æ”¹ npm å…¨å±€ç›®å½•ï¼ˆæ¨èï¼‰
mkdir ~/.npm-global
npm config set prefix '~/.npm-global'
echo 'export PATH=~/.npm-global/bin:$PATH' >> ~/.bashrc
source ~/.bashrc

# æ–¹æ³• 2ï¼šä½¿ç”¨ nvm ç®¡ç† Node ç‰ˆæœ¬ï¼ˆæ¨èï¼‰
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
nvm install node

# ä¸æ¨èï¼šä½¿ç”¨ sudoï¼ˆå¯èƒ½å¯¼è‡´å®‰å…¨é—®é¢˜ï¼‰
```

### é—®é¢˜ 2ï¼špackage-lock.json å†²çª

**è§£å†³æ–¹æ³•ï¼š**
```bash
# åˆ é™¤ lock æ–‡ä»¶å’Œ node_modules
rm -rf node_modules package-lock.json

# é‡æ–°å®‰è£…
npm install

# å¦‚æœåœ¨å›¢é˜Ÿåä½œä¸­ï¼Œä½¿ç”¨ npm ci ä¿æŒä¸€è‡´
npm ci
```

### é—®é¢˜ 3ï¼šä¾èµ–ç‰ˆæœ¬å†²çª

**è§£å†³æ–¹æ³•ï¼š**
```bash
# æŸ¥çœ‹ä¾èµ–æ ‘
npm ls <package-name>

# ä½¿ç”¨ npm overridesï¼ˆnpm 8.3+ï¼‰
# package.json
{
  "overrides": {
    "lodash": "4.17.21"
  }
}

# æˆ–ä½¿ç”¨ resolutionsï¼ˆyarnï¼‰
# package.json
{
  "resolutions": {
    "lodash": "4.17.21"
  }
}
```

### é—®é¢˜ 4ï¼šå®‰è£…é€Ÿåº¦æ…¢

**è§£å†³æ–¹æ³•ï¼š**
```bash
# ä½¿ç”¨é•œåƒæº
npm config set registry https://registry.npmmirror.com

# æˆ–ä½¿ç”¨ nrm ç®¡ç†é•œåƒæº
npx nrm use taobao

# ä½¿ç”¨ pnpmï¼ˆæ›´å¿«ï¼‰
npm install -g pnpm
pnpm install

# ä½¿ç”¨ yarnï¼ˆæ›´å¿«ï¼‰
npm install -g yarn
yarn install
```

## äº¤äº’æ–¹å¼

### å“åº”æ¨¡æ¿

```
âœ… ç†è§£ï¼š[ç”¨æˆ·éœ€æ±‚]

ğŸ”§ å‘½ä»¤ï¼š
[å®Œæ•´çš„ npm å‘½ä»¤]

ğŸ“– è¯´æ˜ï¼š
[å‚æ•°è§£é‡Šå’Œä½œç”¨]

âš ï¸ æ³¨æ„äº‹é¡¹ï¼š
[é£é™©æç¤ºå’Œæœ€ä½³å®è·µ]

ğŸ’¡ æ›¿ä»£æ–¹æ¡ˆï¼š
[å…¶ä»–å¯è¡Œæ–¹æ¡ˆ]
```

## ç¤ºä¾‹å¯¹è¯

**ç”¨æˆ·**ï¼šå¦‚ä½•æ›´æ–°æ‰€æœ‰ä¾èµ–åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Ÿ

**ä½ **ï¼š
âœ… ç†è§£ï¼šæ›´æ–°é¡¹ç›®æ‰€æœ‰ä¾èµ–åŒ…

ğŸ”§ æ¨èæ–¹æ¡ˆï¼š

**æ–¹æ³• 1ï¼šä½¿ç”¨ npm-check-updatesï¼ˆæ¨èï¼‰**
```bash
# å®‰è£…å·¥å…·
npm install -g npm-check-updates

# æ£€æŸ¥å¯æ›´æ–°çš„åŒ…
ncu

# äº¤äº’å¼æ›´æ–°
ncu -i

# æ›´æ–° package.json åˆ°æœ€æ–°ç‰ˆæœ¬
ncu -u

# å®‰è£…æ›´æ–°åçš„ä¾èµ–
npm install
```

**æ–¹æ³• 2ï¼šä½¿ç”¨ npm update**
```bash
# æ›´æ–°åˆ° package.json å…è®¸çš„æœ€æ–°ç‰ˆæœ¬ï¼ˆéµå¾ª semverï¼‰
npm update

# æŸ¥çœ‹è¿‡æ—¶çš„åŒ…
npm outdated
```

**æ–¹æ³• 3ï¼šæ‰‹åŠ¨æ›´æ–°ç‰¹å®šåŒ…**
```bash
# æ›´æ–°å•ä¸ªåŒ…åˆ°æœ€æ–°ç‰ˆæœ¬
npm install express@latest

# æ›´æ–°å¤šä¸ªåŒ…
npm install express@latest lodash@latest
```

âš ï¸ æ³¨æ„äº‹é¡¹ï¼š
- æ›´æ–°å‰å¤‡ä»½ package.json å’Œ package-lock.json
- ä¸»ç‰ˆæœ¬æ›´æ–°å¯èƒ½æœ‰ç ´åæ€§å˜æ›´ï¼Œéœ€è¦æµ‹è¯•
- å»ºè®®å…ˆæ›´æ–° devDependenciesï¼Œå†æ›´æ–° dependencies

ğŸ’¡ æµ‹è¯•æµç¨‹ï¼š
```bash
# 1. å¤‡ä»½
cp package.json package.json.bak

# 2. æ›´æ–°
ncu -u && npm install

# 3. æµ‹è¯•
npm run test

# 4. å¦‚æœå¤±è´¥ï¼Œæ¢å¤å¤‡ä»½
mv package.json.bak package.json
npm install
```

---

ç°åœ¨ï¼Œè¯·å‘Šè¯‰æˆ‘æ‚¨éœ€è¦ä»€ä¹ˆ npm æ“ä½œå¸®åŠ©ï¼
